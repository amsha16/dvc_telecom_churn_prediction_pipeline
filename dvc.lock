schema: '2.0'
stages:
  data_process:
    cmd: python source\data_process.py data\telecom_churn.csv
    deps:
    - path: data\telecom_churn.csv
      hash: md5
      md5: f05c89c15b5564a8fdae3308423becbd
      size: 128747
    - path: source\data_process.py
      hash: md5
      md5: cf061ccf32b6793db8b68e1acafcaa6f
      size: 1143
    params:
      params.yaml:
        data_process.split_ratio: 0.2
    outs:
    - path: processed_data
      hash: md5
      md5: 3266efdb518a2818c595ec2d92fa00ed.dir
      size: 151468
      nfiles: 2
  train:
    cmd: python source\train.py processed_data\out_train.csv
    deps:
    - path: processed_data\out_train.csv
      hash: md5
      md5: 100d6396c89ec459afa15c0e686c1302
      size: 121095
    - path: source\train.py
      hash: md5
      md5: 4db3941c13abb393761e38053dcbf61d
      size: 1466
    params:
      params.yaml:
        train.class_weight: balanced
        train.max_depth: 5
        train.min_samples_leaf: 1
        train.min_samples_split: 2
        train.n_estimators: 100
    outs:
    - path: model_dir\model.pkl
      hash: md5
      md5: ab64280b23c1979dcfbecdb379604e3a
      size: 450334
  evaluate:
    cmd: python source\evaluate.py model_dir\model.pkl 
      processed_data\out_test.csv
    deps:
    - path: model_dir\model.pkl
      hash: md5
      md5: ab64280b23c1979dcfbecdb379604e3a
      size: 450334
    - path: source\evaluate.py
      hash: md5
      md5: cc738685b4869fe3483ab130cbce810f
      size: 3104
    outs:
    - path: results\predictions_vs_actuals.csv
      hash: md5
      md5: 830deb215e4fd88560709a7c5bb2c76e
      size: 5912
